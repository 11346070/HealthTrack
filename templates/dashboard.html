<!DOCTYPE html>
<html>
<head>
    <title>Health Dashboard</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body { background: #f5f5f5; padding: 30px; }
        h1 { margin-bottom: 30px; }
        .card { border-radius: 12px; }
        .alert-item { padding: 10px; background: #ffe5e5; border-radius: 6px; margin-bottom: 8px; }
    </style>
</head>

<body>

<div class="container">

    <h1 class="text-center">Health Monitoring Dashboard</h1>

    <!-- Top BP Section -->
    <div class="card mb-4">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">Top Blood Pressure Users</h4>
        </div>
        <div class="card-body">

            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>User</th>
                        <th>BP_SYS</th>
                    </tr>
                </thead>
                <tbody>
                    {% for u in top_bp %}
                        <tr>
                            <td>{{ u.key }}</td>
                            <td>{{ u.bp_sys }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>

        </div>
    </div>

    <!-- Alerts Section -->
    <div class="card">
        <div class="card-header bg-danger text-white">
            <h4 class="mb-0">Recent Alerts</h4>
        </div>
        <div class="card-body">

            {% for alert in alerts %}
                <div class="alert-item">
                    <strong>{{ alert.user_id }}</strong> - {{ alert.alerts }}
                    <div class="text-muted small">{{ alert.timestamp }}</div>
                </div>
            {% endfor %}

            {% if alerts|length == 0 %}
                <div class="text-muted">No alerts recorded.</div>
            {% endif %}
        </div>
    </div>

</div>

</body>
</html>
